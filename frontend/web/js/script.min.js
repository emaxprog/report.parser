google.charts.load('current',{packages:['corechart']});function drawChart(a){let b=new google.visualization.DataTable;b.addColumn('number','Time'),b.addColumn('number','Profit'),b.addColumn({type:'string',role:'tooltip'}),b.addRows(a);let d=new google.visualization.AreaChart(document.getElementById('chart'));d.draw(b,{hAxis:{title:'Time'},vAxis:{title:'Profit'},tooltip:{isHtml:!0},animation:{duration:1e3,easing:'out'}})}function clearAlerts(){$('.alert').remove()}$(document).ready(function(){$submitBtn=$('form .btn'),$fileInput=$('input:file'),$fileInputContainer=$('form .form-group'),$chartContainer=$('.chart__container'),$('form').submit(function(a){if(a.preventDefault(),clearAlerts(),''==$fileInput.val())return!1;$submitBtn.button('loading');let b=$(this),c=b.attr('action'),d=new FormData(b[0]);return $.ajax({type:'POST',url:c,data:d,contentType:!1,processData:!1,success:function(g){let h=[];$.each(g,function(i,j){let k=`
                    Ticket : ${j.Profit}
                    Type : ${j.Type}
                    Profit : ${j.Profit}
                    `,l=`
                    Ticket : ${j.Profit}
                    Open Time : ${j['Open Time']}
                    Type : ${j.Type}
                    Size : ${j.Size}
                    Item : ${j.Item}
                    Price : ${j.Price}
                    S / L : ${j['S / L']}
                    T / P : ${j['T / P']}
                    Close Time : ${j['Close Time']}
                    Commission : ${j.Commission}
                    Taxes : ${j.Taxes}
                    Swap : ${j.Swap}
                    Profit : ${j.Profit}
                    `,m='buy'==j.Type?l:k;h[i]=[i,+j.Profit,m]}),$submitBtn.button('reset'),$chartContainer.show(),google.charts.setOnLoadCallback(drawChart(h))},error:function(g){let h=g.responseJSON.errors.reportFile;h.length&&$.each(h,function(i,j){$('form .file-input').after(`<div class="alert alert-danger" role="alert">${j}</div>`)}),$submitBtn.button('reset')}}),!1})});